# Cursor Rules 아키텍처 가이드

## 📐 아키텍처 개요

`.cursorrules` 파일은 다음과 같은 계층적 구조로 구성됩니다:

```
.cursorrules
├── 📋 메타데이터 (버전, 목적)
├── 🎯 핵심 원칙 (언어, 커뮤니케이션)
├── 📝 코드 스타일 (네이밍, 포맷팅)
├── 📁 프로젝트 구조 (폴더, 파일)
├── 🔒 코드 품질 (에러 처리, 성능, 보안)
├── 🧪 개발 워크플로우 (테스트, 문서화)
├── 🔧 기술 스택별 규칙 (선택적)
├── 🤖 AI 어시스턴트 지침
└── 🎨 프로젝트별 커스터마이징
```

## 🏗️ 섹션별 설명

### 1. 메타데이터 섹션

**목적**: 규칙 파일의 버전 관리 및 컨텍스트 제공

```markdown
## 📋 메타데이터

- 버전: 1.0.0
- 마지막 업데이트: 2024
- 목적: 일관된 코드 품질과 개발 워크플로우 유지
```

**사용 시나리오**:

- 규칙 변경 이력 추적
- 여러 버전의 규칙 관리
- 팀 간 규칙 공유 시 버전 확인

### 2. 핵심 원칙

**목적**: 모든 규칙의 기반이 되는 기본 원칙 정의

**포함 내용**:

- 커뮤니케이션 규칙 (언어, 응답 방식)
- 코드 품질의 기본 철학

**특징**: 가장 상위 레벨의 규칙으로, 다른 모든 규칙의 기반

### 3. 코드 스타일

**목적**: 일관된 코드 작성 가이드

**구조**:

- 네이밍 컨벤션 (변수, 함수, 클래스 등)
- 포맷팅 규칙 (들여쓰기, 줄 길이 등)

**확장성**: 프로젝트별로 세부 규칙 추가 가능

### 4. 프로젝트 구조

**목적**: 파일 및 폴더 조직화 가이드

**포함 내용**:

- 폴더 구성 원칙
- 파일 구조 가이드라인

**유연성**: 프로젝트 타입에 따라 조정 가능

### 5. 코드 품질

**목적**: 에러 처리, 성능, 보안 등 품질 관련 규칙

**하위 섹션**:

- 에러 처리: 기본 원칙 + 구현 가이드
- 성능 최적화: 일반 원칙 + 최적화 전략
- 보안: 기본 원칙 + 체크리스트

**특징**: 각 항목이 원칙과 실전 가이드로 구분됨

### 6. 개발 워크플로우

**목적**: 테스트, 문서화 등 개발 프로세스 규칙

**포함 내용**:

- 테스트 원칙 및 구조
- 문서화 가이드라인

### 7. 기술 스택별 규칙

**목적**: 특정 기술에 대한 구체적인 규칙

**특징**:

- 선택적 섹션 (해당 기술 사용 시만 활성화)
- 예: TypeScript, React, Node.js 등

**사용법**: 프로젝트에 맞는 섹션만 활성화하고 나머지는 주석 처리

### 8. AI 어시스턴트 지침

**목적**: Cursor AI가 코드 생성/리팩토링 시 따라야 할 규칙

**포함 내용**:

- 코드 생성 시 지침
- 리팩토링 시 주의사항
- 질문 응답 시 가이드라인

### 9. 프로젝트별 커스터마이징

**목적**: 프로젝트 특화 규칙 추가 공간

**사용법**: 각 프로젝트에서 필요한 규칙만 추가

## 🔄 규칙 우선순위

1. **프로젝트별 규칙** (프로젝트 루트의 `.cursorrules`)

   - 가장 높은 우선순위
   - 프로젝트 특화 규칙

2. **전역 규칙** (`~/.cursorrules`)

   - 기본 규칙 및 공통 규칙
   - 프로젝트별 규칙이 없을 때 적용

3. **기본 Cursor 설정**
   - 최하위 우선순위

## 📦 모듈화 전략

### 전역 규칙 + 프로젝트별 확장

**전역 규칙** (`~/.cursorrules`):

- 핵심 원칙
- 일반적인 코드 스타일
- 공통 개발 워크플로우

**프로젝트별 규칙** (프로젝트 루트):

- 기술 스택별 규칙
- 프로젝트 특화 규칙
- 팀 컨벤션

### 예시 구조

```
~/.cursorrules (전역)
├── 핵심 원칙
├── 기본 코드 스타일
└── 공통 워크플로우

프로젝트/.cursorrules (프로젝트별)
├── React 특화 규칙
├── 프로젝트 구조
└── 팀 컨벤션
```

## 🎯 모범 사례

### 1. 섹션 구분

- 명확한 헤더와 이모지 사용
- HTML 주석으로 섹션 구분 (`<!-- ============================================ -->`)

### 2. 규칙 작성

- 구체적이고 실행 가능한 규칙 작성
- "해야 한다" vs "하지 말아야 한다" 명확히 구분
- 예시 코드 포함 (필요시)

### 3. 유지보수

- 버전 관리 (메타데이터 섹션 활용)
- 정기적인 리뷰 및 업데이트
- 팀 피드백 반영

### 4. 확장성

- 프로젝트별 커스터마이징 섹션 활용
- 기술 스택별 규칙은 선택적으로 활성화
- 주석으로 비활성화된 규칙 관리

## 🔍 검색 및 탐색

### 섹션별 검색

- 이모지로 시각적 구분
- 명확한 섹션 헤더
- HTML 주석으로 구조 명시

### 규칙 찾기

- 특정 주제는 해당 섹션에서 찾기
- 기술 스택별 규칙은 해당 기술 섹션 확인
- 프로젝트 특화 규칙은 커스터마이징 섹션 확인

## 📝 업데이트 가이드

### 규칙 추가 시

1. 적절한 섹션 선택
2. 기존 규칙과 일관성 유지
3. 메타데이터 버전 업데이트

### 규칙 수정 시

1. 변경 이유 명시 (주석으로)
2. 기존 규칙과의 충돌 확인
3. 버전 업데이트

### 규칙 제거 시

1. 주석 처리로 이력 유지
2. 제거 이유 문서화
3. 버전 업데이트

## 🚀 활용 팁

1. **점진적 적용**: 모든 규칙을 한 번에 적용하지 말고, 필요한 것부터 추가
2. **팀 협의**: 팀과 규칙을 공유하고 피드백 수집
3. **정기 리뷰**: 분기별로 규칙을 검토하고 업데이트
4. **예시 활용**: 복잡한 규칙은 예시 코드와 함께 작성
